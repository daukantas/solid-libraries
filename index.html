<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes" />
    <title>Solid Libraries</title>
    <link rel="shortcut icon" type="img/png" href="favicon.png" />
    <script src="https://solid.github.io/releases/rdflib.js/rdflib-0.16.2.min.js"></script>
    <script src="https://solid.github.io/releases/solid.js/solid-client-lite-0.22.5.min.js"></script>
    <script src="lib/solid-auth-client.bundle.js"></script>
    <script src="https://retog.github.io/solid-utils/js/solid-utils.js"></script>
    <script type="text/javascript" src="https://linkeddata.github.io/mashlib/dist/mashlib.min.js"></script>
</head>

<body>
    <h3>Solid Libraries</h3>

    <hr>

    <img src="images/solidlibsfull.png" />

    <hr>

    | <a target="_blank" href="https://github.com/solid/solid-tutorial-rdflib.js">rdflib.js</a>
    | <a target="_blank" href="https://solid.github.io/solid-auth-client/">solid-auth-client</a>
    | <a target="_blank" href="https://github.com/solid/solid-web-client">solid-web-client</a>
    | <a target="_blank" href="https://github.com/solid/solid-client">solid-client</a>
    | <a target="_blank" href="https://github.com/linkeddata/solid-ui">solid-ui</a>
    | <a target="_blank" href="https://github.com/linkeddata/solid-app-set">solid-app-set</a> | <a target="_blank" href="https://github.com/retog/solid-utils#solid-utils">solid-utils</a> |

    <hr>

    <pre>
    ## Recipes

    ### Authentication

    SolidAuthClient.popupLogin({popupUri: ('https://melvincarvalho.github.io/solid-libraries/popup.html')})

    SolidAuthClient.currentSession()


    ### Read files

    var file = "https://melvincarvalho.solidtest.space/public/e80a1f20-c498-11e7-b987-c54edbcc67dd.ttl"

    SolidUtils.fetch(file).then(r => alert(r))


    ### Read RDF

    #### Get RDF and trigger login dialog if neeeded

    SolidUtils.rdfFetch("https://retog.solidtest.space/")

    SolidUtils.rdfFetch(uri, {}).then(r => alert(r.graph))

    #### Read profile

    SolidAuthClient.currentSession().then(function (session) {
                if (session) {
                    var user = $rdf.sym(session.webId);
                    SolidUtils.rdfFetch(session.webId).then(function (response) {
                        var name = response.graph.any(user, SolidUtils.vocab.foaf('name'));
                        alert("Logged in as: "+name);
                    });
                } else {
                    alert("Not logged in");
                }
            })


    ### List files in a Container

    SolidClient.web.get(uri).then( container => console.log(container) )


    ### Create folder

    SolidUtils.createLdpc('https://melvincarvalho.solidtest.space/public/', 'pastebin')


    ### Delete files

    var file = "https://melvincarvalho.solidtest.space/public/e80a1f20-c498-11e7-b987-c54edbcc67dd.ttl"

    SolidUtils.fetch(file, { 'method' : 'DELETE' }).then(r => alert(r))




  </pre>

    <hr>

    <footer>
        <div class="center-text"><a href="https://github.com/melvincarvalho/solid-libraries/" target="_blank">GitHub Page</a> | <a href="https://github.com/melvincarvalho/solid-libraries/issues" target="_blank">GitHub Issues</a></div>
    </footer>

</body>
</html>
